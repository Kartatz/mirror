Categories:
  - Reading
License: GPL-3.0-only
AuthorName: Hassan Eltantawy
AuthorEmail: hasaneltantawy@gmail.com
SourceCode: https://github.com/muslimpack/HisnElmoslem_App
IssueTracker: https://github.com/muslimpack/HisnElmoslem_App/issues
Changelog: https://github.com/muslimpack/HisnElmoslem_App/releases

AutoName: حصن المسلم

RepoType: git
Repo: https://github.com/muslimpack/HisnElmoslem_App.git

Builds:
  - versionName: 2.6.0
    versionCode: 19
    commit: 2da11321431ad7332b12e8541588380eefb7c9f9
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.10.0
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 2.7.01
    versionCode: 22
    commit: 630117a0987e317c3b564505154c112d595d92ed
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.16.9
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 2.7.02
    versionCode: 23
    commit: a7fa359a373327c12993bab3a567fe75702615b0
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.16.9
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 2.8.0
    versionCode: 24
    commit: 621ec9b40976f80a471b54b24cb12c435547c4cd
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.22.2
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 2.9.0
    versionCode: 25
    commit: 1baa6146eb7ee2a0e2d570a7c549cdd02b35fc9f
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.24.3
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 2.9.01
    versionCode: 26
    commit: d3483063508b53b0f5ab0a5d95ec20982b9d5acc
    subdir: hisnelmoslem
    output: build/app/outputs/flutter-apk/app-release.apk
    srclibs:
      - flutter@3.24.3
    rm:
      - hisnelmoslem/ios
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release

  - versionName: 3.0.01
    versionCode: 28
    commit: e7d51c8d5abb0f072317593e1c50558abdda5d71
    subdir: hisnelmoslem
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
    output: build/app/outputs/apk/prod/release/app-prod-release-unsigned.apk
    srclibs:
      - flutter@3.35.5
    rm:
      - hisnelmoslem/ios
    prebuild:
      - sed -i -e 's/VERSION_18/VERSION_21/g' android/app/build.gradle
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - sed -i -e 's/8.12.1/8.11.1/' .pub-cache/hosted/pub.dev/{package_info_plus,share_plus,wakelock_plus}-*/android/build.gradle
      - sed -i -e 's/8.13.0/8.11.1/' .pub-cache/hosted/pub.dev/{fluttertoast,flutter_email_sender}-*/android/build.gradle
    scandelete:
      - hisnelmoslem/.pub-cache
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --flavor prod

AutoUpdateMode: Version
UpdateCheckMode: Tags
UpdateCheckData: hisnelmoslem/pubspec.yaml|version:\s.+\+(\d+)|.|version:\s(.+)\+
CurrentVersion: 3.0.01
CurrentVersionCode: 28
