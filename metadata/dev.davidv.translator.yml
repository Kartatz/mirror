Categories:
  - Translation & Dictionary
License: GPL-3.0-or-later
AuthorName: David Ventura
AuthorWebSite: https://blog.davidv.dev
SourceCode: https://github.com/davidventura/firefox-translator
IssueTracker: https://github.com/DavidVentura/firefox-translator/issues
Changelog: https://github.com/DavidVentura/firefox-translator/releases
Liberapay: DavidV

AutoName: Translator

RepoType: git
Repo: https://github.com/davidventura/firefox-translator
Binaries: https://github.com/DavidVentura/firefox-translator/releases/download/v%v/translator-%v.apk

Builds:
  - versionName: 0.0.10
    versionCode: 1
    commit: 167b87c17a1407922276bae5f0c5a9c49a90a438
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json

  - versionName: 0.1.0
    versionCode: 2
    commit: 7a6eff5a689098077e8f9d7d684b2cd0ab0a0c74
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json

  - versionName: 0.1.1
    versionCode: 3
    commit: ad03cf5f56da0706da3beb9376c1432b0a256ab0
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json

  - versionName: 0.1.2
    versionCode: 4
    commit: e8e2d20610e5eba92d9e0687a8123da2891db39c
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json

  - versionName: 0.2.0
    versionCode: 5
    commit: 49abb6bdb6a06f0de7112d40f75c5c70dc424c93
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev libclang-dev
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    srclibs:
      - rustup@1.28.2
    prebuild:
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.87.0 --target aarch64-linux-android
      - source ~/.cargo/env
      - sed -i -e "s|\"cargo\",|\"$(which cargo)\",|" build.gradle.kts
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json

  - versionName: 0.2.1
    versionCode: 6
    commit: e667b6a2f588d81b75b15fd2ac3775e15de08410
    subdir: app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y make g++ libc-dev libclang-dev cmake
      - git config --system core.abbrev 10
    gradle:
      - aarch64
    srclibs:
      - rustup@1.28.2
    prebuild:
      - $$rustup$$/rustup-init.sh -y --default-toolchain 1.87.0 --target aarch64-linux-android
      - source ~/.cargo/env
      - cargo install cargo-ndk@4.1.2
      - sed -i -e "s|\"cargo\",|\"$(which cargo)\",|" build.gradle.kts
    scandelete:
      - app/bergamot/src/main/cpp/third_party/cld2/internal/test_shuffle_1000_48_666.utf8.gz
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/package.json
      - app/bergamot/src/main/cpp/bergamot-translator/wasm/module/worker/package.json
      - app/src/androidTest/assets/*

AllowedAPKSigningKeys: 2b3806e745d809018a51be58d0635ffc74cc9733439407ab1ed0424a4db3e1fb

AutoUpdateMode: Version
UpdateCheckMode: Tags
CurrentVersion: 0.2.1
CurrentVersionCode: 6
