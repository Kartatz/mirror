Categories:
  - Connectivity
License: GPL-3.0-or-later
AuthorName: nellogan
SourceCode: https://github.com/nellogan/AwakeOnLANMobile
IssueTracker: https://github.com/nellogan/AwakeOnLANMobile/issues

AutoName: AwakeOnLANMobile

RepoType: git
Repo: https://github.com/nellogan/AwakeOnLANMobile

Builds:
  - versionName: 1.0.2
    versionCode: 10000201
    commit: ff0970807c6948db096096f8eccb873a2710b8c0
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -t trixie npm
    init: npm install
    gradle:
      - yes
    output: build/outputs/apk/release/awakeonlanmobile-armeabi-v7a-*-unsigned.apk
    binary: https://github.com/nellogan/AwakeOnLANMobile/releases/download/v%v/awakeonlanmobile-armeabi-v7a-%v.apk
    prebuild: sed -i -e "s/include .*/include 'armeabi-v7a'/" build.gradle
    scanignore:
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
    scandelete:
      - node_modules/
    build:
      - cd ..
      - gradle generateCodegenArtifactsFromSchema
      - bash ./repro_build_patch.sh

  - versionName: 1.0.2
    versionCode: 10000202
    commit: ff0970807c6948db096096f8eccb873a2710b8c0
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -t trixie npm
    init: npm install
    gradle:
      - yes
    output: build/outputs/apk/release/awakeonlanmobile-arm64-v8a-*-unsigned.apk
    binary: https://github.com/nellogan/AwakeOnLANMobile/releases/download/v%v/awakeonlanmobile-arm64-v8a-%v.apk
    prebuild: sed -i -e "s/include .*/include 'arm64-v8a'/" build.gradle
    scanignore:
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
    scandelete:
      - node_modules/
    build:
      - cd ..
      - gradle generateCodegenArtifactsFromSchema
      - bash ./repro_build_patch.sh

  - versionName: 1.0.2
    versionCode: 10000203
    commit: ff0970807c6948db096096f8eccb873a2710b8c0
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -t trixie npm
    init: npm install
    gradle:
      - yes
    output: build/outputs/apk/release/awakeonlanmobile-x86-*-unsigned.apk
    binary: https://github.com/nellogan/AwakeOnLANMobile/releases/download/v%v/awakeonlanmobile-x86-%v.apk
    prebuild: sed -i -e "s/include .*/include 'x86'/" build.gradle
    scanignore:
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
    scandelete:
      - node_modules/
    build:
      - cd ..
      - gradle generateCodegenArtifactsFromSchema
      - bash ./repro_build_patch.sh

  - versionName: 1.0.2
    versionCode: 10000204
    commit: ff0970807c6948db096096f8eccb873a2710b8c0
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -t trixie npm
    init: npm install
    gradle:
      - yes
    output: build/outputs/apk/release/awakeonlanmobile-x86_64-*-unsigned.apk
    binary: https://github.com/nellogan/AwakeOnLANMobile/releases/download/v%v/awakeonlanmobile-x86_64-%v.apk
    prebuild: sed -i -e "s/include .*/include 'x86_64'/" build.gradle
    scanignore:
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
    scandelete:
      - node_modules/
    build:
      - cd ..
      - gradle generateCodegenArtifactsFromSchema
      - bash ./repro_build_patch.sh

AllowedAPKSigningKeys: 6a249ac6d4c518afe03422f575f13c6f25c1ece3fddf76d6e1e23a27d24bada3

AutoUpdateMode: Version
UpdateCheckMode: Tags ^v[\d.]+$
VercodeOperation:
  - 100 * %c + 1
  - 100 * %c + 2
  - 100 * %c + 3
  - 100 * %c + 4
CurrentVersion: 1.0.2
CurrentVersionCode: 10000204
